{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.box');\nexport let PAGE = 1;\n\n\n\n\n    export function createGallery(images){\n   \n          let arr = null;\n     arr = images.map(itm =>`\n     <li class=\"gallery_item\">\n         <a href=\"${itm.largeImageURL}\">\n            <img class=\"img_itm\" src=\"${itm.webformatURL}\" alt=\"${itm.tags}\" title=\"\">\n         </a>\n         <div class=\"block\">\n            <div class=\"one_item\">\n               <h2>Likes</h2>\n               <p>${itm.likes}</p>\n            </div>\n\n            <div class=\"one_item\">\n               <h2>View</h2>\n               <p>${itm.views}</p>\n            </div>\n\n            <div class=\"one_item\">\n               <h2>Comments</h2>\n               <p>${itm.comments}</p>\n            </div>\n\n            <div class=\"one_item\">\n               <h2>Downloads</h2>\n               <p>${itm.downloads}</p>\n            </div>\n         </div>      \n     </li>   \n        `\n     ).join('');\n     gallery.insertAdjacentHTML('beforeend', arr);\n\n}\n\n\nexport function clearGallery(){\n    gallery.innerHTML = '';\n}\n\nexport function showLoader(){\n   loader.style.visibility = 'visible';\n}\n\nexport function hideLoader(){\n   loader.style.visibility = 'hidden';\n}\n\nexport function showLoadMoreButton(){\n   \n   PAGE +=1;\n   console.log(PAGE);\n   return PAGE;\n}","import axios from 'axios';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { createGallery, hideLoader,  } from './render-functions.js';\n\nconst myApiKey = '51186890-e1c8ef6e5ef4b08950db17a2f';\nexport const gallery = document.querySelector('.gallery');\nconst BASE_URL ='https://pixabay.com/api/';\n\n\nexport async function getImagesByQuery(query, page){\n  try{\n    await axios.get(BASE_URL, {\n  \n    params: {\n        key: myApiKey,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: page,\n        per_page: 15,\n        }\n })\n .then(response => {\n   console.log(response);\n   createGallery(response.data.hits)\n   \n  \n\n const lightbox = new SimpleLightbox('li.gallery_item a', {\n    \n            captionsData: 'alt',    \n            captionDelay: 200,    \n            animationSpeed: 250,    \n            scaleImageToRatio: true,\n\n   });\n\n })\n      .finally(()=>{\n          hideLoader();\n        })\n }catch(err){\n    console.log(err);\n }\n}\n","// import {gallery, getImagesByQuery} from './js/pixabay-api.js';\n// console.log(gallery);\n\n// getImagesByQuery('cat', 2);\n\nimport axios from 'axios';\nimport {getImagesByQuery } from './js/pixabay-api.js'\nimport { clearGallery, showLoader, showLoadMoreButton, PAGE } from './js/render-functions.js';\n\nconst loadMore = document.querySelector('.js_button_more');\n// console.log(loadMore);\nconst form = document.querySelector('.js_form');\nconst isObj = {};\n\nloadMore.addEventListener('click', onClick);\n// import iziToast from \"izitoast\";\n// import \"izitoast/dist/css/iziToast.min.css\";\nfunction onClick(){\n    // let PAGE = 1;\n    showLoadMoreButton();\n    console.log(isObj);\n}\n\nform.addEventListener('submit', inForm);\n\nfunction inForm(event){\n    event.preventDefault();\n    \n    clearGallery();\n    \n    const formData = new FormData(event.currentTarget);\n    \n        formData.forEach((value, name)=>{\n        // console.log('value', value);\n        // console.log('name', name);\n        isObj[name] = value;\n        \n    })\n    console.log(isObj.search);\n    console.log(typeof(isObj.search));\n     if(isObj.search === ''){\n        // console.log('Hi!');\n    \n        iziToast.show({\n            title: 'Hey',\n            message: 'Enter any word!',\n            titleColor: '#fff',\n            messageColor: '#fff',\n            color: '#b22702', // blue, red, green, yellow\n            position: 'topRight', // bottomRight, bottomLeft, topLeft, topCenter, bottomCenter, center\n        });\n    return;\n\n    }\n                            showLoader();\n                            getImagesByQuery(isObj.search, PAGE);\n                            form.reset();\n}\n\n// let PAGE = null;\n// function showLoadMoreButton(){\n//    PAGE +=1;\n//    return PAGE;\n// }\n// showLoadMoreButton()\n// showLoadMoreButton()\n// showLoadMoreButton()\n// console.log(PAGE);\nconsole.log(isObj);"],"names":["gallery","loader","PAGE","createGallery","images","arr","itm","clearGallery","showLoader","hideLoader","showLoadMoreButton","myApiKey","BASE_URL","getImagesByQuery","query","page","axios","response","lightbox","SimpleLightbox","err","loadMore","form","isObj","onClick","inForm","event","value","name"],"mappings":"6vBAAA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,MAAM,EACrC,IAAIC,EAAO,EAKP,SAASC,EAAcC,EAAO,CAE/B,IAAIC,EAAM,KACfA,EAAMD,EAAO,IAAIE,GAAM;AAAA;AAAA,oBAERA,EAAI,aAAa;AAAA,wCACGA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKtDA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKTA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKTA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,SAKjC,EAAO,KAAK,EAAE,EACTN,EAAQ,mBAAmB,YAAaK,CAAG,CAEhD,CAGO,SAASE,GAAc,CAC1BP,EAAQ,UAAY,EACxB,CAEO,SAASQ,GAAY,CACzBP,EAAO,MAAM,WAAa,SAC7B,CAEO,SAASQ,GAAY,CACzBR,EAAO,MAAM,WAAa,QAC7B,CAEO,SAASS,GAAoB,CAEjC,OAAAR,GAAO,EACP,QAAQ,IAAIA,CAAI,EACTA,CACV,CCvDA,MAAMS,EAAW,qCACM,SAAS,cAAc,UAAU,EACxD,MAAMC,EAAU,2BAGT,eAAeC,EAAiBC,EAAOC,EAAK,CACjD,GAAG,CACD,MAAMC,EAAM,IAAIJ,EAAU,CAE1B,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAU,EAClB,CACA,CAAE,EACA,KAAKE,GAAY,CAChB,QAAQ,IAAIA,CAAQ,EACpBd,EAAcc,EAAS,KAAK,IAAI,EAIlC,MAAMC,EAAW,IAAIC,EAAe,oBAAqB,CAE9C,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,kBAAmB,EAE/B,CAAI,CAEH,CAAC,EACK,QAAQ,IAAI,CACTV,EAAU,CACZ,CAAC,CACR,OAAOW,EAAI,CACR,QAAQ,IAAIA,CAAG,CAClB,CACD,CCtCA,MAAMC,EAAW,SAAS,cAAc,iBAAiB,EAEnDC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAQ,CAAA,EAEdF,EAAS,iBAAiB,QAASG,CAAO,EAG1C,SAASA,GAAS,CAEdd,EAAkB,EAClB,QAAQ,IAAIa,CAAK,CACrB,CAEAD,EAAK,iBAAiB,SAAUG,CAAM,EAEtC,SAASA,EAAOC,EAAM,CAejB,GAdDA,EAAM,eAAc,EAEpBnB,EAAY,EAEK,IAAI,SAASmB,EAAM,aAAa,EAEpC,QAAQ,CAACC,EAAOC,IAAO,CAGhCL,EAAMK,CAAI,EAAID,CAElB,CAAC,EACD,QAAQ,IAAIJ,EAAM,MAAM,EACxB,QAAQ,IAAI,OAAOA,EAAM,MAAO,EAC5BA,EAAM,SAAW,GAAG,CAGpB,SAAS,KAAK,CACV,MAAO,MACP,QAAS,kBACT,WAAY,OACZ,aAAc,OACd,MAAO,UACP,SAAU,UACtB,CAAS,EACL,MAEA,CACwBf,EAAU,EACVK,EAAiBU,EAAM,OAAQrB,CAAI,EACnCoB,EAAK,MAAK,CACtC,CAWA,QAAQ,IAAIC,CAAK"}