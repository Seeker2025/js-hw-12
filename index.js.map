{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.box');\nexport const loadMore = document.querySelector('.js_button_more');\n// console.log(loadMore);\nexport let PAGE = 1;\n\nexport function createGallery(images){\n   \n     let arr = null;\n     arr = images.map(itm =>`\n     <li class=\"gallery_item\">\n         <a href=\"${itm.largeImageURL}\">\n            <img class=\"img_itm\" src=\"${itm.webformatURL}\" alt=\"${itm.tags}\" title=\"\">\n         </a>\n         <div class=\"block\">\n            <div class=\"one_item\">\n               <h2>Likes</h2>\n               <p>${itm.likes}</p>\n            </div>\n\n            <div class=\"one_item\">\n               <h2>View</h2>\n               <p>${itm.views}</p>\n            </div>\n\n            <div class=\"one_item\">\n               <h2>Comments</h2>\n               <p>${itm.comments}</p>\n            </div>\n\n            <div class=\"one_item\">\n               <h2>Downloads</h2>\n               <p>${itm.downloads}</p>\n            </div>\n         </div>      \n     </li>   \n        `\n     ).join('');\n     gallery.insertAdjacentHTML('beforeend', arr);\n\n}\n\nexport function clearGallery(){\n    gallery.innerHTML = '';\n}\n\nexport function showLoader(){\n   loader.style.visibility = 'visible';\n}\n\nexport function hideLoader(){\n   loader.style.visibility = 'hidden';\n}\n\nexport function addTheOne(){\n   PAGE +=1;\n   // console.log(PAGE);\n   return PAGE;\n}\n\nexport function showLoadMoreButton(){\n   loadMore.style.visibility = 'visible'\n}\n\nexport function  hideLoadMoreButton(){\n   loadMore.style.visibility = 'hidden';\n}","import axios from 'axios';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { \n  createGallery,\n  hideLoader,\n  hideLoadMoreButton,\n  showLoadMoreButton\n } from './render-functions.js';\n// import { loadMore } from '../main.js';\n\nconst myApiKey = '51186890-e1c8ef6e5ef4b08950db17a2f';\nconst BASE_URL ='https://pixabay.com/api/';\nlet total = null;\n\nexport const gallery = document.querySelector('.gallery');\n// const indexWords = document.querySelector('.js_index_words')\n\nexport async function getImagesByQuery(query, page){\n  try{\n    await axios.get(BASE_URL, {\n  \n    params: {\n        key: myApiKey,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: page,\n        per_page: 15,\n        }\n })\n .then(response => {\n\n                                        console.log(response.data);\n                                        console.log(response.data.totalHits);\n                                        //  console.log((response.data.hits).length);\n                                        total += (response.data.hits).length;\n                                        console.log(total);\n                                        showLoadMoreButton();\n   if(response.data.totalHits <= total){\n        console.log('Fail');\n        \n                                        iziToast.show({\n                                                  title: `We're sorry,`,\n                  message: `but you've reached the end of search results.`,\n                                                  titleColor: '#fff',\n                                                  messageColor: '#fff',\n                                                  color: '#b22702', \n                                                  position: 'topRight',  \n                                              });\n        hideLoadMoreButton();                                    \n   } \n     \n   createGallery(response.data.hits)\n   \n const lightbox = new SimpleLightbox('li.gallery_item a', {\n    \n            captionsData: 'alt',    \n            captionDelay: 200,    \n            animationSpeed: 250,    \n            scaleImageToRatio: true,\n\n   });\n\n })\n      .finally(()=>{\n          hideLoader();\n          // loadMore.style.visibility = 'visible';\n          // showLoadMoreButton();\n        })\n }catch(err){\n    console.log(err);\n }\n}\n","// import {gallery, getImagesByQuery} from './js/pixabay-api.js';\n// console.log(gallery);\n\n// getImagesByQuery('cat', 2);\n\nimport axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport {getImagesByQuery } from './js/pixabay-api.js'\nimport { \n    clearGallery,\n    showLoader, \n    addTheOne,\n    PAGE,\n    hideLoadMoreButton,\n    loadMore,\n      } from './js/render-functions.js';\n\nexport const forHidden = document.querySelector('.js_forHidden');\n// console.log(forHidden);\nconst form = document.querySelector('.js_form');\n\nconst isObj = {};\nhideLoadMoreButton();\n\nform.addEventListener('submit', inForm);\n\nfunction inForm(event){\n    event.preventDefault();\n    \n    clearGallery();\n    \n    const formData = new FormData(event.currentTarget);\n    \n        formData.forEach((value, name)=>{\n        // console.log('value', value);\n        // console.log('name', name);\n        isObj[name] = value;\n        \n    })\n                            // console.log(isObj.search);\n                            // console.log(typeof(isObj.search));\n    if(isObj.search === ''){\n                                                        iziToast.show({\n                                                            title: 'Hey',\n                                                            message: 'Enter any word!',\n                                                            titleColor: '#fff',\n                                                            messageColor: '#fff',\n                                                            color: '#b22702', \n                                                            position: 'topRight',  \n                                                        });\n                return;\n            }\n                            showLoader();\n                            hideLoadMoreButton();\n                            getImagesByQuery(isObj.search, PAGE);\n                            form.reset();\n\n                    loadMore.addEventListener('click', onClick);\n\n                            function onClick(){\n                                let num = addTheOne();\n                                // console.log(isObj);\n                                // console.log(num);\n                                getImagesByQuery(isObj.search, num);\n                            }\n                            // forHidden.style.visibility = 'hidden';\n                            // hideLoadMoreButton();\n\n}\n\n// let PAGE = null;\n// function showLoadMoreButton(){\n//    PAGE +=1;\n//    return PAGE;\n// }\n// showLoadMoreButton()\n// showLoadMoreButton()\n// showLoadMoreButton()\n// console.log(PAGE);\n// console.log(isObj);"],"names":["gallery","loader","loadMore","PAGE","createGallery","images","arr","itm","clearGallery","showLoader","hideLoader","addTheOne","showLoadMoreButton","hideLoadMoreButton","myApiKey","BASE_URL","total","getImagesByQuery","query","page","axios","response","iziToast","lightbox","SimpleLightbox","err","form","isObj","inForm","event","value","name","onClick","num"],"mappings":"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"}